//--------------------------------------
// This file is autogenerated by grackle
// DO NOT MANUALLY EDIT THIS FILE
//--------------------------------------

package completeslice_gk

import (
	"github.com/tchajed/marshal"
)

type S struct {
	Strg   string
	Strg2  string
	Bytes  []byte
	Bytes2 []byte
}

func Marshal(enc []byte, c S) []byte {
	enc = marshal.WriteLenPrefixedBytes(enc, []byte(c.Strg))
	enc = marshal.WriteLenPrefixedBytes(enc, []byte(c.Strg2))
	enc = marshal.WriteInt(enc, uint64(len(c.Bytes)))
	enc = marshal.WriteBytes(enc, c.Bytes)
	enc = marshal.WriteInt(enc, uint64(len(c.Bytes2)))
	enc = marshal.WriteBytes(enc, c.Bytes2)

	return enc
}

func Unmarshal(s []byte) (S, []byte) {

	strgBytes, s := marshal.ReadLenPrefixedBytes(s)
	strg := string(strgBytes)
	strg2Bytes, s := marshal.ReadLenPrefixedBytes(s)
	strg2 := string(strg2Bytes)
	bytesBytes, s := marshal.ReadLenPrefixedBytes(s)
	bytes := bytesBytes
	bytes2Bytes, s := marshal.ReadLenPrefixedBytes(s)
	bytes2 := bytes2Bytes

	return S{
		Strg:   strg,
		Strg2:  strg2,
		Bytes:  bytes,
		Bytes2: bytes2,
	}, s
}
